<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>WebVR &mdash; My Resume</title>
  <script src = "javascripts/WebVR.js"></script>
  <script src = "javascripts/three.min.js"></script>
</head>

<body>
  <script>

    let clock = new THREE.Clock()

    let container = document.createElement('div')
    document.body.appendChild(container)

    console.log('ayy buddy')

    let scene = new THREE.Scene()
    scene.background = new THREE.Color(0x0040ff)

    let camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight,
    0.1, 10)
    scene.add(camera)

    let renderer = new THREE.WebGLRenderer({antialias: true})
    renderer.setPixelRatio(window.devicePixelRatio)
    renderer.setSize(window.innerWidth, window.innerHeight)
    renderer.vr.enabled = true;
    container.appendChild(renderer.domElement)

    document.body.appendChild(WEBVR.createButton(renderer))


    window.addEventListener('resize', onWindowResize, false)


    init()

    //Run the loop
    animate()

    //...

    function animate() {
      renderer.setAnimationLoop(render)
    }

    function render() {
      let delta = clock.getDelta() * 60

      let frac = delta / 1000
      let angle = Math.PI * 2 * frac

      cube.rotation.y += angle

      cube.position.z += 5 * frac

      renderer.render( scene, camera );
    }

    function init() {
      const mapUrl = "images/webvr-logo-512.jpeg"
      let map = THREE.ImageUtils.loadTexture(mapUrl)

      //Create a Basic Material
      let material = new THREE.MeshBasicMaterial({map : map})

      let geometry = new THREE.BoxGeometry(2, 2, 2)

      //Create cube geometry
      cube = new THREE.Mesh(geometry, material)

      cube.position.z = -6

      scene.add(cube)
    }

    function onWindowResize() {

      camera.aspect = window.innerWidth / window.innerHeight
      camera.updateProjectionMatrix()

      renderer.setSize( window.innerWidth, window.innerHeight )

    }

  </script>
</body>

</html>
